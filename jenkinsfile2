pipeline {
    agent any
    stages {
        stage ('One') {
            steps {
                echo 'Hi, this is Ali'
            }
        }
        stage ('Two') {
            steps {
                script {
                    // Use input step inside a script block
                    input message: 'Do you want to proceed?', ok: 'Proceed'
                }
            }
            // Steps should be inside the stage block
            steps {
                echo 'Proceeding...'
            }
        }
        stage ('Three') {
            when {
                not {
                    branch 'master'
                }
            }
            steps {
                echo 'Hello'
            }
        }
        stage ('Four') {
            parallel {
                stage('Unit Test') {
                    steps {
                        echo 'Running the unit test..'
                    } 
                }
                stage('Integration Test') {
                    agent {
                        docker {
                            reuseNode false
                            image 'Ubuntu'
                        }
                    }
                    steps {
                        echo 'Running the integration test..'
                    }
                }
            }
        }
    }
}
